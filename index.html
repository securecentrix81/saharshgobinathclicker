<!-- start of "normal person" blocker -->
<div id="d0082e1c-16cc-4a7e-b920-d2b5bf8c3ce1" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%;background-color:#ffffff;z-index:2147483649;">Validating authentication state. Login at the <a href="/">home page</a></div>
<script>
  try {
    if (!localStorage.getItem("userIsValidated")) {
      window.location.replace("/")
    } else {
      document.getElementById("d0082e1c-16cc-4a7e-b920-d2b5bf8c3ce1").remove()
    }
  } catch (e) {
    window.location.replace("/")
  }
</script>
<!-- end of "normal person" blocker -->
<!DOCTYPE html>
<html>
  <head>
    <title>Saharsh Gobinath Clicker</title>
    <style>
      .clicker-image-container {
        width: 300px;
        height: 300px;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        overflow: hidden;
        transition: 0.1s;
      }
      .clicker-image {
        width: 300px;
        position: relative;
        top: 50%;
        transform: translateY(-50%);
      }
      .clicker-image-container:hover {
        transform: translate(-50%, -50%) scale(1.1);
        transition: 0.3s;
      }
      .clicker-image-container:active {
        transform: translate(-50%, -50%) scale(1.5);
        transition: 0s;
      }
      #clicker-count {
        font-size: 30px;
        text-align: center;
      }
      .clicker-section {
        position: fixed;
        top: 5%;
        left: 5%;
        width: 90%;
        height: 90%;
        background-color: #ffffff;
        text-align: center;
      }
      body {
        background-image: url("https://asset-cdn.schoology.com/system/files/imagecache/profile_big/pictures/picture-c0b09cdead19788fb0f8be0d53b5c572_68c34cd700b90.jpg");
        background-size: 50px;
        cursor: none;
      }
      #customCursor {
      	object-fit: cover;
        width: 20px;
        height: 20px;
        pointer-events: none;
      }
      .upgrade-svg {
         width: 50px;
         height: 50px;
         background-color: #cccccc;
         border-radius: 50%;
         position: fixed;
         top: calc(5% + 10px);
         left: calc(5% + 10px);
      }
      .upgrade-svg:hover {
         background-color: #bbbbbb;
      }
      .upgrade-item {
        width: 100%;
        margin: 10px 0 10px 0;
        padding-top: 10px;
        padding-bottom: 10px;
        font-size: 3em;
        background-color: #eee;
      }
      .upgrade-item:hover {
        background-color: #ccc;
      }
      .upgrade-item.locked {
        opacity: 0.5;
        pointer-events: none;
        background-color: #ddd;
      }
      .upgrade-item.locked:hover {
        background-color: #ddd;
      }
      .upgrade-item.hidden {
        opacity: 0.4;
        pointer-events: none;
        background-color: #e8e8e8;
      }
      .upgrade-item.hidden:hover {
        background-color: #e8e8e8;
      }
      #upgrade-section {
        width: 100%;
        height: 100%;
        overflow: scroll;
      }
      .small {
        font-size: 0.7em;
      }
    </style>
  </head>
  <body>
    <div class="clicker-section" id="clicker-game-section">
      <div id="upgrade-svg" class="upgrade-svg">
        <svg width="50px" height="50px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v13m0-13 4 4m-4-4-4 4"/>
        </svg>
      </div>
      <h1>Saharsh Clicker</h1>
      <pre id="clicker-count">0x Saharsh</pre>
      <div class="clicker-container">
        <div class="clicker-image-container" id="clicker"><img class="clicker-image" src="https://asset-cdn.schoology.com/system/files/imagecache/profile_big/pictures/picture-c0b09cdead19788fb0f8be0d53b5c572_68c34cd700b90.jpg"></div>
      </div>
    </div>
    
    
    <div class="clicker-section" style="display:none" id="clicker-upgrade-section">
      <div id="exit-upgrade-svg" class="upgrade-svg">
        <svg width="50px" height="50px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v13m0-13 4 4m-4-4-4 4"/>
        </svg>
      </div>
      <h1>Saharsh Clicker</h1>
      <h1>Upgrades</h1>
      <div id="upgrade-section"></div>
    </div>
    <img id="customCursor" src="https://asset-cdn.schoology.com/system/files/imagecache/profile_big/pictures/picture-c0b09cdead19788fb0f8be0d53b5c572_68c34cd700b90.jpg">
    <script>let ALERTED182735123048123423481 = false;addEventListener("error",(e)=>{if(ALERTED182735123048123423481)return;ALERTED182735123048123423481=true;alert(e.message)})</script>
    <script>
      const GAMEVERSION = "dev-1.0.0"
      // localStorage.clear() // FOR DEBUGGING (commented out)
      
      const COST_MULTIPLIER = 1.5;
      
      let clicker = document.getElementById("clicker")
      let clickerCountElement = document.getElementById("clicker-count")
      let upgradeSection = document.getElementById("upgrade-section")
      class Upgrade {
        constructor (clicks, autoclicks, title, subtitle="auto", cost="auto") {
          this.cost = cost==="auto"?clicks*100+autoclicks*60:cost
          this.title = title
          this.subtitle = subtitle==="auto"?((clicks===0?"":clicks+" Saharsh Power\n")+(autoclicks===0?"":autoclicks+" SPS")):subtitle
          this.clicks = clicks
          this.autoclicks = autoclicks
        }
      }
      let avaliableUpgrades = [
        new Upgrade(0, 1, "Person of the day", "+1 SPS(Saharsh Per Second)"),
        new Upgrade(1, 0, "Centrix81 Addiction", "+1 Saharsh Power"),
        new Upgrade(0, 5, "SPED class", "+5 SPS(Saharsh Per Second)"),
        new Upgrade(0, 10, "Leaked yearbook photo", "+10 SPS(Saharsh Per Second)"),
        new Upgrade(25, 0, "2.5 GPA"), 
        new Upgrade(0, 70, "Gets hacked"),
        new Upgrade(100, 0, "70 IQ"),
        new Upgrade(190, 190,  "\"Below Average\" on CAST test"),
        new Upgrade(200, 200, "2.0 GPA"),
        new Upgrade(0, 674, "Leaked IP Address(205.173.47.249)"),
        new Upgrade(0, 706, "Leaked Bio ID", "+K706 SPS where K is 1 and K706 is Saharsh's Bio ID"),
        new Upgrade(0, 1000, "Forgot discord account password"),
        new Upgrade(0, 1973, "Owner of 1973 Member Group Chat", "at Oct 31, 7:19 PM\n+1973 SPS"),
        new Upgrade(5000, 0, "60 IQ"),
        new Upgrade(0, 5000, "50 IQ"),
        new Upgrade(7463, 0, "Owner of 7463 Member Group Chat", "at Nov 4, 7:48 AM\n+7463 Saharsh Power"),
        new Upgrade(15000, 0, "1.5 GPA"),
        new Upgrade(10000, 10000, "Saharsh in 7th grade"),
        new Upgrade(20000, 20000, "1.0 GPA"),
        new Upgrade(0, 49603, "Leaked Food Service Account Number"),
        new Upgrade(51486, 0, "Leaked Insurance Plan ID: W0051486"),
        new Upgrade(100000, 0, "0.5 GPA"),
        new Upgrade(0, 100000, "40 IQ"),
        new Upgrade(300000, 0, "30 IQ"),
        new Upgrade(0, 300000, "0.0 GPA"),
        new Upgrade(500000, 500000, "Leaked Social Security Number"),
        new Upgrade(1000000, 0, "20 IQ"),
        new Upgrade(0, 1000000, "10 IQ"),
        new Upgrade(5000000, 5000000, "Skipped Tetanus, Diphtheria and Acellular Pertussis (Tdap) vaccine"),
        new Upgrade(5250578, 0, "Leaked ID Number"),
        new Upgrade(10000000, 10000000, "0 IQ"),
        new Upgrade(909343909, 909343909, "Leaked Insurance Member ID:", "TGX909343909\n+909343909 Saharsh Power\n+909343909 SPS"),
        new Upgrade(1000000000, 0, "Saharsh I"),
        new Upgrade(0, 1000000000, "Saharsh II"),
        new Upgrade(2000000000, 0, "Saharsh III"),
        new Upgrade(0, 2000000000, "Saharsh IV"),
        new Upgrade(10000000000, 0, "Saharsh V"),
        new Upgrade(0, 10000000000, "Saharsh VI"),
        new Upgrade(100000000000, 0, "Saharsh VII"),
        new Upgrade(0, 100000000000, "Saharsh VIII"),
        new Upgrade(1000000000000, 0, "Saharsh IX"),
        new Upgrade(10000000000000, 0, "Saharsh X"),
        new Upgrade(100000000000000, 0, "Saharsh XI"),
        new Upgrade(0, 1000000000000000, "Saharsh XII"),
        new Upgrade(1000000000000000, 1000000000000000, "Saharsh XIII"),
        new Upgrade(0, 10000000000000000, "Saharsh XIV"),
        new Upgrade(10000000000000000, 0, "Saharsh XV"),
        new Upgrade(10000000000000000000, 0, "Saharsh XVI"),
        new Upgrade(0, 10000000000000000000, "Saharsh XVII"),
        new Upgrade(1000000000000000000000000, 1000000000000000000000000, "Saharsh XVIII"),
      ]

      let gameState = {
        clickerCount: 0,
        ownedUpgrades: new Array(avaliableUpgrades.length).fill(0)
      }

      let clickPower = 1;
      let autoPerSec = 0;

      function computePowers() {
        clickPower = 1;
        autoPerSec = 0;
        for (let i = 0; i < avaliableUpgrades.length; ++i) {
          let upgrade = avaliableUpgrades[i];
          let owned = gameState.ownedUpgrades[i];
          clickPower += upgrade.clicks * owned;
          autoPerSec += upgrade.autoclicks * owned;
        }
      }

      if (localStorage.getItem("gameState-v" + GAMEVERSION)) {
        try {
          gameState = JSON.parse(localStorage.getItem("gameState-v" + GAMEVERSION));
          if (!gameState.ownedUpgrades) {
            gameState.ownedUpgrades = new Array(avaliableUpgrades.length).fill(0);
          }
        } catch (e) {
          alert("Error in save state parsing");
          gameState = {
            clickerCount: 0,
            ownedUpgrades: new Array(avaliableUpgrades.length).fill(0)
          };
        }
      }

      computePowers();
      function updateCountDisplay() {
        clickerCountElement.innerText = `${Math.floor(gameState.clickerCount)}x Saharsh`;
      }
      updateCountDisplay();

      clicker.addEventListener("click", (e) => {
        gameState.clickerCount += clickPower;
        updateCountDisplay();
      });

      addEventListener("mousemove", (e) => {
        customCursor.style.transform = `translate(${e.clientX-20}px, ${e.clientY-20}px)`;
      }, {passive: true});

      setInterval(() => {
        gameState.clickerCount += autoPerSec/15;
        updateCountDisplay();
        updateUpgradeSection()
      }, 1000/15);

      setInterval(() => {
        localStorage.setItem("gameState-v" + GAMEVERSION, JSON.stringify(gameState));
      }, 1000);

      function updateUpgradeSection() {
        upgradeSection.innerHTML = "";
        
        for (let i = 0; i < avaliableUpgrades.length; ++i) {
          let upgrade = avaliableUpgrades[i];
          let owned = gameState.ownedUpgrades[i];
          let cost = Math.ceil(upgrade.cost * COST_MULTIPLIER ** gameState.ownedUpgrades[i]);
          
          let element = document.createElement("div");
          element.classList.add("upgrade-item");
          element.setAttribute("data-index", i);
          
          let canAfford = gameState.clickerCount >= cost;
          
          // Determine visibility
          let isVisible;
          if (i === 0) {
            // First upgrade is always visible
            isVisible = true;
          } else {
            // Visible if previous upgrade is owned OR can be afforded
            let prevOwned = gameState.ownedUpgrades[i - 1] > 0;
            let prevCost = avaliableUpgrades[i - 1].cost;
            let canAffordPrev = gameState.clickerCount >= prevCost;
            isVisible = prevOwned || canAffordPrev;
          }
          
          if (!isVisible) {
            // Hidden upgrade - show as ???
            element.innerHTML = `<pre style="white-space:pre-wrap"><strong>???</strong> <i class="small">(??? Saharsh)</i></pre>`;
            element.classList.add("hidden");
          } else if (!canAfford) {
            // Visible but cannot afford - gray out
            let desc = upgrade.subtitle ? upgrade.subtitle.replace(/\n/g, "<br>") : "";
            element.innerHTML = `<pre style="white-space:pre-wrap"><strong>${upgrade.title}</strong> <i class="small">(${cost} Saharsh)</i> <i class="small">(owned: ${owned})</i>${desc ? "<p class=\"small\">" + desc + "</p>" : ""}</pre>`;
            element.classList.add("locked");
          } else {
            // Can afford - show normally
            let desc = upgrade.subtitle ? upgrade.subtitle.replace(/\n/g, "<br>") : "";
            element.innerHTML = `<pre style="white-space:pre-wrap"><strong>${upgrade.title}</strong> <i class="small">(${cost} Saharsh)</i> <i class="small">(owned: ${owned})</i>${desc ? "<p class=\"small\">" + desc + "</p>" : ""}</pre>`;
          }
          
          upgradeSection.appendChild(element);
        }
      }

      document.getElementById("upgrade-svg").addEventListener("click", (e) => {
        document.getElementById("clicker-game-section").style.display = "none";
        document.getElementById("clicker-upgrade-section").style.display = "block";
        updateUpgradeSection();
      });

      document.getElementById("exit-upgrade-svg").addEventListener("click", (e) => {
        document.getElementById("clicker-game-section").style.display = "block";
        document.getElementById("clicker-upgrade-section").style.display = "none";
      });

      upgradeSection.addEventListener("click", (e) => {
        let target = e.target.closest(".upgrade-item");
        if (target && !target.classList.contains("locked") && !target.classList.contains("hidden")) {
          let index = parseInt(target.getAttribute("data-index"));
          let cost = Math.ceil(avaliableUpgrades[index].cost * COST_MULTIPLIER ** gameState.ownedUpgrades[index]);
          if (gameState.clickerCount >= cost) {
            gameState.clickerCount -= cost;
            gameState.ownedUpgrades[index]++;
            computePowers();
            updateCountDisplay();
            updateUpgradeSection();
          }
        }
      });
    </script>
  </body>
</html>
